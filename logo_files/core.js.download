(function(h,f,m,l,d){h[f]=h[f]||{};for(h[f].q=h[f].q||[];d<l.length;)m(l[d++],h[f])})(window,"extole",function(h,f){f[h]=f[h]||function(){f.q.push([h,arguments])}},["log"],0);
extole.define||function(){function h(a){a=k(a);return v[a]}function f(a,b){extole.log("debug","[REQUIRE] "+a,b)}function m(a,b){extole.log("error","[REQUIRE] "+a,b)}function l(a,b){if(a.length)for(var c=0;c<a.length;c++)b(a[c],c);else for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(a[c],c)}function d(a,b){var c=[];l(a,function(a,n){c[n]=b(a,n)});return c}function k(a){return"string"!==typeof a?a:/origin-\d/.test(a)?a.substring(a.indexOf("type=")).replace(/version=\d+:/,""):a}function e(a){var b=
a.split("/").slice(-1)[0],c=b.length;l(b.toLowerCase(),function(a){c+=" abcdefghijklmnopqrstuvwxyz1234567890-_.".indexOf(a)});return a.replace("origin","origin-"+c%8)}function a(b){var c=/^extole-creatives:/.test(b),n=/^extole-media:/.test(b),g=/^core-root:\/\//.test(b),t=/^extole-assets:/.test(b),d=/origin\./.test(b),u=/^http:/.test(b),k=/^https:/.test(b);return c?(b=b.slice(17),a("extole-assets:/core-modules/"+b)):t?(b=b.slice(14),a("extole-media:/assets/"+b)):n?(b=b.slice(13),b=extole.CORE_ROOT+
b,a(b)):g?(b=b.slice(12),b=extole.CORE_ROOT+b,a(b)):d?(b=e(b),b+="?site="+window.location.hostname,a(b)):u?(b=b.slice(5),a(b)):k?(b=b.slice(6),a(b)):b}function g(){}function c(){var b="undefined"!==typeof window.opera&&"[object Opera]"===window.opera.toString(),a=document.createElement("script");this.useInteractive=a.attachEvent&&!(a.attachEvent.toString&&0>a.attachEvent.toString().indexOf("[native code"))&&!b}function b(){l(v,function(b){b._fetched?b._defined||b.define():b.fetch()})}function n(b,
a,c,n,e){if("$config"!=b){var p=h(b),d=p||new g;p||(p=k(b),v[p]=d);b&&a&&(d._fetched=!0);d.start=d.start||(new Date).getTime();d.url=d.url||b;d.dependencies=d.dependencies||a;d.config=d.config||n;d.definedCallback=d.definedCallback||c;d.isRequire=d.isRequire||e}}function u(b,a,c,n){b instanceof Array&&(n=c,c=a,a=b,b=void 0);r.addDefine({url:b,dependencies:a,definedCallback:c,config:n})}function z(){q++;return"anonymous_"+q}var v={};g.prototype={getUnresolvedDependencies:function(){var b=[];l(this.dependencies,
function(a){"$config"!=a&&(a=h(a),(!a||a&&!a._defined)&&b.push(a))});return b},getDependencies:function(){var b=this,a=[];l(b.dependencies,function(c){c="$config"==c?b.config||null:h(c).definition||null;a.push(c)});return a},define:function(){function a(a){c.definedCallback=void 0;c.definition=a;c.end=(new Date).getTime();c.timeToDefine=c.end-c.start;c.timeToFetch&&f("Fetched "+c.url+" in "+c.timeToFetch+"ms");c.isAsync&&f("Defined async "+c.url+" in "+c.timeToDefine+"ms");c._defining=!1;c._defined=
!0;setTimeout(b,1)}var c=this;c.defineStartTime=c.defineStartTime||(new Date).getTime();if(!c._defining&&!c._defined&&c.dependencies)if(c._defining=!0,0<c.getUnresolvedDependencies().length)c._defining=!1;else{var n=c.getDependencies(),g={isAsync:!1,async:function(){c.isAsync=!0;g.isAsync=c.isAsync;return function(b){a(b)}}};(function(){if(c.definedCallback){var b=c.definedCallback;b=b&&b.apply(g,n);g.isAsync||a(b)}else a(!0)})()}},fetch:function(){var b=this;b._fetching||b._fetched||(b.url?(b._fetching=
!0,b.startFetchTime=(new Date).getTime(),r.loadModule(b.url,function(){b._fetching=!1;b.endFetchTime=(new Date).getTime();b.timeToFetch=b.endFetchTime-b.startFetchTime;b._fetched=!0;b.define()})):m("Tried to fetch a module without a url - dependencies: "+b.dependencies+" definedCallback: "+(b.definedCallback?"exists":"null")+" config: "+b.config))}};c.prototype={defineQueue:[],interactiveScript:null,currentlyAddingScript:null,getInteractiveScript:function(){if(r.interactiveScript&&"interactive"==
r.interactiveScript.readyState)return r.interactiveScript;for(var b=document.getElementsByTagName("head")[0].getElementsByTagName("script"),a,c=b.length-1;0<=c;c--){var n=this.getScriptDataUrl(b[c]);b[c]&&"interactive"==b[c].readyState&&n&&(a=b[c],f("...interactive script "+a.src))}return a},scriptUrlAttributeName:"data-extole-require-url",getScriptDataUrl:function(b){return b.getAttribute(this.scriptUrlAttributeName)},setScriptDataUrl:function(b,a){b.setAttribute(this.scriptUrlAttributeName,a)},
attachOnLoad:function(b,a){function c(e){var d=b.readyState;if(n&&"interactive"==d)this.interactiveScript=b;else if("load"===e.type||g.test(d))n?b.detachEvent("onreadystatechange",c):b.removeEventListener("load",c,!1),f(b.src+" finished loading"),a(e)}a=a||function(){};var n=this.useInteractive,g="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;n?b.attachEvent("onreadystatechange",c):b.addEventListener("load",c,!1)},defineTimeout:null,addDefine:function(b){if(b.url)b.url=a(b.url);
else{f("defining anonymous module...");var c=this.currentlyAddingScript||this.getInteractiveScript();this.useInteractive&&c?(c=this.getScriptDataUrl(c),f("..scriptToCompare has data url "+c),b.url=c,this.interactiveScript=null):this.useInteractive&&f("..found no scriptToCompare")}b.dependencies=d(b.dependencies,a);this.useInteractive&&!b.url&&m("defines should not be missing a url in ie.");this.defineQueue.push(b);this.defineTimeout&&clearTimeout(this.defineTimeout);var n=this;this.defineTimeout=
setTimeout(function(){f("intakeDefines from addDefine timeout");n.intakeDefines()},1)},intakeTimeout:null,intakeDefines:function(){function a(b,a){c[b]=c[b]?c[b]+","+a:a}for(var c={},g=[],e;e=this.defineQueue.shift();){var d=[];l(e.dependencies,function(b){b&&d.push(b)});var u=e.url&&h(e.url);e.url?u?a(e.url,"updated"):a(e.url,"created"):g.push("deps "+e.dependencies);l(d,function(b){a(b,"dependency");n(b)});n(e.url,d,e.definedCallback,e.config,e.isRequire)}var k="intakeDefines -- ";l(c,function(b,
a){k+="\n - "+a+" "+b});k+="\n -- "+g.length+" anonymous modules created";l(g,function(b){k+="\n - "+b});f(k);this.intakeTimeout&&clearTimeout(this.intakeTimeout);this.intakeTimeout=setTimeout(b,1)},loadModule:function(b,a){var c=document.createElement("script");c.async=!0;c.crossOrigin="anonymous";this.setScriptDataUrl(c,b);var n=this;f("loading module "+b);this.attachOnLoad(c,function(){clearTimeout(g);if(!n.useInteractive){for(var c,e=n.defineQueue.length-1;0<=e;e--)n.defineQueue[e].url||(c&&m("Multiple anonymous modules loaded in one script - "+
b),c=n.defineQueue[e]);c?(f("assigned "+b+" to anonymous module"),c.url=b):f("module url didn't define a module - "+b)}f("intake defines from loadModule");n.intakeDefines();a&&a(null)});c.src=b;var g=setTimeout(function(){extole.log("warn","[REQUIRE] Module did not load within 2000ms: ",{moduleUrl:b})},2E3);this.currentlyAddingScript=c;var e=document.getElementsByTagName("head")[0]||document.head;e?e.appendChild(c):extole.log("warn","[REQUIRE] <head> element not found on trying to load "+b,void 0);
this.currentlyAddingScript=void 0}};var r=new c;u.getModule=function(b){return h(b)};var q=0;extole.define=u;extole.require=function(b,a){r.addDefine({url:z(),dependencies:b,definedCallback:a,isRequire:!0})};extole.define("extole-require",[],function(){return{resolveUrl:a}});setTimeout(function(){var b=!1,a=[];l(v,function(c){c._defined||(b=!0);a.push({defineStartTime:c.defineStartTime,dependencies:c.dependencies,end:c.end,start:c.start,isRequire:c.isRequire,timeToDefine:c.timeToDefine,url:c.url,
_defined:c._defined,_defining:c._defining,_fetched:c._fetched})});b&&extole.DUMP_REQUIRE_MODULES_ON_ERROR&&extole.log("error","After 7000ms there are unresolved extole-require modules.  ###"+JSON.stringify(a)+"###")},7E3)}();(function(){})();
extole.define("extole-uri-parser",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js"],function(h,f){var m=/^extole_(?!zone)/,l=/^extole_zone_/;return new function(){function d(a){var g={};a=a||e;h.each(a,function(c,b){m.test(b)&&(b=b.replace(m,""),g[b]=c)});return g}function k(){var a,g,c={};this.withName=function(b){a=b;return this};this.withElementId=function(b){g=
b;return this};this.withData=function(b,a){c[b]=a;return this};this.build=function(){var b={};a&&(b.name=a);g&&(b.elementId=g);c&&(b.data=c);return b}}var e=f.deserialize(location.search);this.parseUriZoneDefinition=function(a){var g=new k,c;a=a||e;var b=d(a);h.each(b,function(b,c){g.withData(c,b)});h.each(a,function(b,a){l.test(a)&&(a=a.replace(l,""),"name"===a?(c=!0,g.withName(b)):"element_id"===a?g.withElementId(b):g.withData(a,b))});return c?g.build():null};this.parseGlobalZoneParameters=d}});
(function(h,f,m,l,d){h[f]=h[f]||{};for(h[f].q=h[f].q||[];d<l.length;)m(l[d++],h[f])})(window,"extole",function(h,f){f[h]=f[h]||function(){f.q.push([h,arguments])}},["createZone","log"],0);
(function(){var h=[{name:"Shutterstock Branded Domain",programDomain:"share.shutterstock.com",sitePatterns:"share.shutterstock.com extole.io *.extole.io extole.com *.extole.com shutterstock.com *.shutterstock.com shuttercloud.org *.shuttercloud.org".split(" ")}];extole.CORE_ROOT="https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104";extole.CORE_CONFIG={backendTargetingEnabled:!0,isZonePostEnabled:!0,isCookieConsentEnabled:!1,isJsCreativeRespondsWithHtmlEnabled:!1,isGlobalZoneParametersEnabled:!1,
zonePostEnabled:!0,cookieConsentEnabled:!1};extole.CLIENT_ID="1528233037";extole.BUILD_DATE="1637368794874";extole.VERSION="6.0";extole.PROGRAM=function(){function f(a,c){a=Error.call(this,a);this.name="ExtoleError";this.message=a.message;this.stack=a.stack;this.code=c}function m(a,c){if(a.length)for(var b=0;b<a.length;b++)c(a[b],b);else for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c(a[b],b)}function l(a,c){var b=[];m(a,function(a){(a=c(a))&&(b[b.length]=a)});return b}function d(a,c){c=c||
[];var b=!1;m(c,function(c){(new RegExp(c.replace(/\./g,"\\.").replace(/\*/g,".*"))).test(a)&&(b=!0)});return b}function k(){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/ajax.js"],function(a,c){var b=extole.CORE_ROOT;a=b.replace(/(https?:\/\/[a-z-\.]+)(\/.*)/,"$1")+"/_extole_core.gif"+a.serialize({core_root:b,referer:window.location.hostname});c({url:a})})}
f.prototype=Error();f.prototype.constructor=f;var e=function(a){var c=window.location.hostname;return l(a,function(b){if(d(c,b.sitePatterns))return b})}(h),a=e[0];if(!a)throw k(),new f("No program domain is configured for hostname: "+window.location.hostname+" unable to use Extole API","site_configuration_error");1<e.length&&extole.log("warn","Multiple programs matched hostname: "+window.location.hostname+" programs: "+JSON.stringify(e));return a}();extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js",
"https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js","create-zone-executor"],function(f,h,l){function d(){function a(b){var a=b[0];"function"===typeof c[a]?(c[a].apply(null,b[1]),extole.q.history.push({name:b[0],args:b[1],timestamp:Date.now(),stack:Error().stack})):h.warn("Unable to execute method: "+a+", it is not implemented.")}var c={log:function(){var b=Array.prototype.slice.call(arguments),a=b[0];"function"===typeof h[a]&&h[a].apply(null,b.slice(1))},
createZone:l.execute};for(extole.q.history=[];extole.q.length;)a(extole.q.shift());extole.q.push=a}function k(){extole.require(["extole-uri-parser"],function(a){var c=f.deserialize(location.search);(a=a.parseUriZoneDefinition(c))&&extole.createZone(a)})}function e(){if("function"===typeof window.onerror)var a=window.onerror;window.onerror=function(c,b,n,e,g){if(a)try{a(c,b,n,e,g)}catch(q){}b=b||window.location.href||"no_source_or_location.href";g=g&&g.stack?g.stack:"no_error.stack";var d=[],u=JSON.stringify({MESSAGE:c,
SOURCE:b,LINE_NUMBER:n,COLUMN_NUMBER:e,STACK_TRACE:g},function(b,a){if(null!==a&&"object"===typeof a){if(0<=d.indexOf(a))return;d.push(a)}return a});n=extole.PROGRAM.programDomain.split(".").join("\\.");n=new RegExp("^(http|https):\\/\\/("+n+"|(([A-Za-z0-9-]{1,}\\.){1,}|)(xtlo\\.net|extole(\\.com|\\.io)))(?=(\\/|\\?|$))");((g+c).match(/extole/i)||n.test(b))&&extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js"],function(b){b.error("Unhandled exception",
JSON.parse(u))})}}function a(){extole._bootstrapped=!0;e();d();k()}extole.bootstrap=a;extole._bootstrapped||a();if("undefined"!==typeof window.extoleAsyncInit)try{window.extoleAsyncInit()}catch(g){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js"],function(a){a.error("Error executing extended core javascript. Message : "+g.message+" Stack: "+g.stack)})}})})();
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/ExtoleError.js",[],function(){function h(f,h,l){f=Error.call(this,f);this.name="ExtoleError";this.message=f.message;this.stack=f.stack;this.code=h;this.data=l}h.prototype=Error();return h.prototype.constructor=h});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/type.js"],function(h,f){function m(d,k){var e;if(d.length===Number(d.length))for(e=0;e<d.length;e++){var a=k(d[e],e);if(!1===a)return!1}else for(e in d)if(Object.prototype.hasOwnProperty.call(d,e)&&(a=k(d[e],
e),!1===a))return!1}function l(d){if(!d||"object"!==typeof d&&!f.isPlainFunction(d))d={};for(var k=1;k<arguments.length;k++)if(f.isPlainObject(arguments[k]))for(var e in arguments[k]){var a=arguments[k][e];a!==d&&void 0!==a&&(f.isPlainObject(a)&&f.isPlainObject(d[e])?a=l(d[e],a):f.isArray(a)&&f.isArray(d[e])&&d[e].concat&&(a=d[e].concat(a)),d[e]=a)}return d}m.BREAK=!1;return{each:m,map:function(d,k){function e(a,b){g=[];m(a,function(a,c){g.push(b(a,c))})}function a(a,b){g={};m(a,function(a,c){g[c]=
b(a,c)})}var g;if(f.isArray(d))e(d,k);else if(f.isPlainObject(d))a(d,k);else throw new h(d+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return g},filter:function(d,k){function e(a,b){g=[];m(a,function(a,c){b(a,c)&&g.push(a)})}function a(a,b){g={};m(a,function(a,c){b(a,c)&&(g[c]=a)})}var g;if(f.isArray(d))e(d,k);else if(f.isPlainObject(d))a(d,k);else throw new h(d+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return g},merge:l,clone:function(d){return JSON.parse(JSON.stringify(d))},
flatten:function(d){function k(a,g){if(f.isPlainObject(a))m(a,function(a,c){var b=g.slice();b.push(c);k(a,b)});else{var c=g.join(".");e[c]=a}}if(!f.isPlainObject(d))return d;var e={};k(d,[]);return e},find:function(d,k){var e;m(d,function(a,g){if(k(a,g))return e=a,m.BREAK});return e},reverse:function(d){var k=[];if(!d||d.length!==Number(d.length))return d;for(var e=d.length-1;0<=e;e--)k.push(d[e]);return k},nashornToJs:function(d){var k=Object.prototype.toString.call(d),e;if("object"!==typeof d||
k.match(/\[object (Object|Array|Null)\]/))return d;if(k.match(/\[object java\.util\.(HashMap|TreeMap|Collections\$UnmodifiableMap)\]/)){var a={};for(e in d)a[e]=d[e]}else if("number"===typeof d.length)a=[],m(d,function(e,c){a[c]=e});else return d;return a},intersection:function(d,k){var e=[];m(d,function(a){0>k.indexOf(a)||0<=e.indexOf(a)||e.push(a)});return e},difference:function(d,k){var e=[];m(d,function(a){0<=k.indexOf(a)||0<=e.indexOf(a)||e.push(a)});return e}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/cookie.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js"],function(h){function f(a){try{return decodeURIComponent(a.replace(d," "))}catch(g){return h.info("** cookie.decode ** Cookie error for: "+a,{error:g,message:g.message,stack:g.stack,cookiePart:a}),""}}function m(a){a=f(a);return 0===a.indexOf('"')?a.slice(1,-1).replace(k,'"').replace(e,"\\"):a}function l(a){if(!a||
!a.toUTCString){var e=new Date;e.setDate(e.getDate()+("number"===typeof a?a:0));return e}return a}var d=/\+/g,k=/\\"/g,e=/\\\\/g;return function(a,e,c){if(void 0!==e)return c=c||{},document.cookie=[encodeURIComponent(a),"=",encodeURIComponent(e),c.expires?"; expires="+l(c.expires).toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.samesite?"; samesite="+c.samesite:"","; secure"].join("");a:{e=document.cookie?document.cookie.split("; "):[];c=a?null:{};for(var b=0,n=e.length;b<
n;b++){var g=e[b].split("="),d=f(g[0]);if(!a)c[d]=m(g[1]);else if(a===d){a=m(g[1]);break a}}a=c}return a}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/device-type.js",[],function(){function h(l){return f.test(l)}var f=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Dolphin|Fennec|(hpw|web)OS|Zune|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Silk-Accelerated|Skyfire|NetFront/i,m=/WebView|\swv|(iPhone|iPod|iPad)(?!.*Safari)|Android.*(wv|.0.0.0)|Linux; U; Android/i;return{isMobile:h,isDesktop:function(f){return!h(f)},isWebview:function(f){return m.test(f)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/dom.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js"],function(h){function f(a,b){return(b||document).querySelectorAll(a)}function m(a,b){return f(a,b)[0]}function l(c,b){function n(){clearTimeout(f);b(d);k.removeListener(d,"load",n)}b=b||function(){};if(g[c]||!c)return b(g[c]),g[c]||null;g[c]=document.createElement("link");var d=g[c];e.setAttribute(d,
"rel","stylesheet");e.setAttribute(d,"href",c);a.append(m("head"),d);k.addListener(d,"load",n);var f=setTimeout(function(){h.warn("Load timeout reached for stylesheet: ",{url:c});n()},5E3);return d}var d={each:function(a,b){var c;if(a.length===Number(a.length))for(c=0;c<a.length;c++){var e=b(a[c],c);if(!1===e)return!1}else for(c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&(e=b(a[c],c),!1===e))return!1},extend:function(){var a,b,e=arguments[0]||{},d=1,g=arguments.length,k=!1,f=this.extend;"boolean"===
typeof e&&(k=e,e=arguments[1]||{},d=2);for("object"===typeof e||this.isFunction(e)||(e={});d<g;d++){var h=arguments[d];if(null!==h)for(a in h){var l=e[a];var p=h[a];e!==p&&(k&&p&&(this.isPlainObject(p)||(b=this.isArray(p)))?(b?(b=!1,l=l&&this.isArray(l)?l:[]):l=l&&this.isPlainObject(l)?l:{},e[a]=f(k,l,p)):void 0!==p&&(e[a]=p))}}return e},isFunction:function(a){return a&&"function"===typeof a&&a.call&&a.apply},isPlainObject:function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==
a)return!1;try{if(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isArray:function(a){return a instanceof Array}};d.each.BREAK=!1;var k=function(){function a(a,b,c){for(var e=[],d=0;d<k.length;d++){var g=k[d];g.element==a&&g.eventType==b&&g.listener==c&&e.push({index:d,eventListener:g})}return e}function b(a){for(var b=[],c=0;c<k.length;c++){var e=k[c];e.element===a&&b.push(e)}return b}function e(a){this.originalEvent=
a;this.type=a.type;this.keyCode=a.keyCode;this.target=a.srcElement?a.srcElement:a.target}function g(b,c,e){e=a(b,c,e);0>=e.length?h.info("events.remove - Couldn't find exiting event listener for type \""+c+'" listener on element '+b):d.each(e,function(a){var e=a.index;a=a.eventListener;b.removeEventListener?b.removeEventListener(c,a.listenerWrapper,!1):b.detachEvent("on"+c,a.listenerWrapper);k.splice(e,1)})}var k=[];e.prototype={preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0}};return{addListener:function(b,c,d){function g(a){n&&(a=window.event);return d.call(b,new e(a))}if(0<a(b,c,d).length)h.warn("events.add - Listener already exists for event "+c+" on element "+b);else{var n=!b.addEventListener;k.push({element:b,eventType:c,listener:d,listenerWrapper:g});b.addEventListener?b.addEventListener(c,g,!1):b.attachEvent("on"+c,g)}},
triggerEvent:function(a,b,c){var e=document.createEvent("Event");e.initEvent(b,!0,!1);d.extend(e,c);a.dispatchEvent(e)},removeListener:g,clearListeners:function(a){a=b(a);d.each(a,function(a){g(a.element,a.eventType,a.listener)})}}}(),e=function(){function a(a){a=a.className;var b={};if(!a)return b;d.each(a.split(" "),function(a){b[a]=1});return b}function b(a){var b="";d.each(a,function(a,c){b+=" "+c});return b.slice(1)}return{setAttribute:function(a,b,c){a.setAttribute(b,c);a[b]=c},getAttribute:function(a,
b){return a.getAttribute(b)},addClass:function(c,e){var d=a(c);d[e]||(d[e]=1,c.className=b(d))},removeClass:function(c,e){var d=a(c);delete d[e];c.className=b(d)},getClassNames:function(a){return a.className.split(" ")}}}(),a=function(){function a(a){var b=document.createDocumentFragment(),c=document.createElement("div");c.innerHTML=a;d.each(c.childNodes,function(a){1==a.nodeType&&b.appendChild(a)});return b}function b(a){var b;d.each(a.childNodes,function(a){if(!b&&1==a.nodeType)return b=a,d.each.BREAK});
return b}return{prepend:function(c,e){var d=b(c),g=e;"string"===typeof e&&(g=a(e));d?c.insertBefore(g,d):c.appendChild(g)},append:function(b,c){var e=c;"string"===typeof c&&(e=a(c));b.appendChild(e)}}}(),g={};return{addEventListener:k.addListener,removeEventListener:k.removeListener,triggerEvent:k.triggerEvent,clearEventListeners:k.clearListeners,getAttribute:e.getAttribute,setAttribute:e.setAttribute,addClass:e.addClass,removeClass:e.removeClass,getClassNames:e.getClassNames,prepend:a.prepend,append:a.append,
query:f,queryFirst:m,isVisible:function(a,b){return!!(m(a,b)||{}).offsetParent},injectStylesheet:l,injectStylesheets:function(a,b){function c(a){--e||b(g)}b=b||function(){};if(0===a.length)b();else{var e=0,g=[];d.each(a,function(a){e++;setTimeout(function(){g.push(l(a,c))},1)})}},scrollIntoViewIfNeeded:function(a,b){function c(a,b){return{start:a,length:b,end:a+b}}function e(a,c){return!1===b||c.start<a.end&&a.start<c.end?Math.min(a.start,Math.max(c.start,a.end-c.length)):(a.start+a.end-c.length)/
2}function d(a,b){return{x:a,y:b,translate:function(c,e){return d(a+c,b+e)}}}function g(a,b){for(;a;)b=b.translate(a.offsetLeft,a.offsetTop),a=a.offsetParent;return b}var k=g(a,d(0,0)),f=d(a.offsetWidth,a.offsetHeight);a=a.parentNode;for(var l;a instanceof HTMLElement;)l=g(a,d(a.clientLeft,a.clientTop)),a.scrollLeft=e(c(k.x-l.x,f.x),c(a.scrollLeft,a.clientWidth)),a.scrollTop=e(c(k.y-l.y,f.y),c(a.scrollTop,a.clientHeight)),k=k.translate(-a.scrollLeft,-a.scrollTop),a=a.parentNode}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/event-bus.js",[],function(){function h(){function l(e,a,d,c){if(!d)return!0;if("object"===typeof d){for(var b in d)e[a].apply(e,[b,d[b]].concat(c));return!1}if(k.test(d)){d=d.split(k);b=0;for(var g=d.length;b<g;b++)e[a].apply(e,[d[b]].concat(c));return!1}return!0}function d(e,a){var d,c=-1,b=e.length,k=a[0],f=a[1],l=a[2];switch(a.length){case 0:for(;++c<b;)(d=e[c]).callback.call(d.ctx);break;case 1:for(;++c<
b;)(d=e[c]).callback.call(d.ctx,k);break;case 2:for(;++c<b;)(d=e[c]).callback.call(d.ctx,k,f);break;case 3:for(;++c<b;)(d=e[c]).callback.call(d.ctx,k,f,l);break;default:for(;++c<b;)(d=e[c]).callback.apply(d.ctx,a)}}this._events={};var k=/\s+/;this.on=function(e,a,d){if(!l(this,"on",e,[a,d])||!a)return this;this._events||(this._events={});(this._events[e]||(this._events[e]=[])).push({callback:a,context:d,ctx:d||this});return this};this.off=function(e,a,d){var c,b,g;if(!this._events||!l(this,"off",
e,[a,d]))return this;if(!e&&!a&&!d)return this._events=void 0,this;var k=e?[e]:m.keys(this._events);var f=0;for(b=k.length;f<b;f++)if(e=k[f],c=this._events[e]){var h=[];this._events[e]=h;if(a||d){var r=0;for(g=c.length;r<g;r++){var q=c[r];(a&&a!==q.callback&&a!==q.callback._callback||d&&d!==q.context)&&h.push(q)}}h.length||delete this._events[e]}return this};this.once=function(e,a,d){function c(){var g=f.call(arguments);b.off(e,c,d);a.apply(this,g)}var b=this;this.on(e,c,d);return this};this.trigger=
function(e){if(!this._events)return this;var a=f.call(arguments,1);if(!l(this,"trigger",e,a))return this;var g=this._events[e],c=this._events.all;g&&d(g,a);c&&d(c,arguments);return this}}var f=Array.prototype.slice,m={isPlainObject:function(f){if("[object Object]"!==String(f)||f.nodeType||f.window&&f.window==f)return!1;try{if(f.constructor&&!Object.prototype.hasOwnProperty.call(f.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}return!0},keys:function(f){if(!this.isPlainObject(f))return[];
var d=[],k;for(k in f)Object.prototype.hasOwnProperty.call(f,k)&&d.push(k);return d},_idCounter:0,uniqueId:function(f){var d=String(++this._idCounter);return f?f+d:d}};return{create:function(){return new h}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js",[],function(){function h(a,c,e){d||(d=c.getGlobalServices().getJsLoggingService());d[a](e)}function f(b,d,f){var n=String(extole.CORE_ROOT).match(/coreAssetsVersion=(\d+)/);f=f||{};f.pageId=k;f.referer=e;f.coreAssetsVersion=n&&n[1];try{var h=[d||"no message","START_JSON",JSON.stringify(f),"END_JSON"].join(" ")}catch(r){l("Failed to stringify log's json data",{exception:r});return}extole.LOG_EXCLUDE_REGEX&&
h.match(extole.LOG_EXCLUDE_REGEX)||(c[h]=++c[h]||1,a[b]>=a[extole.LOG_LEVEL_CONSOLE]&&window.console&&window.console.log&&window.console.log(b+" "+h),a[b]>=a[extole.LOG_LEVEL_REMOTE]&&(d=c[h],g[d]&&m(b,h+(1<d?" log count: "+d:""))))}function m(a,c){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/api.js"],function(b){b.post("/api/v4/debug/logs",{level:a,message:c},null,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})}function l(a,
c){f("ERROR",a,c)}var d;if("undefined"===typeof window)return{debug:function(a,c){h("debug",a,c)},info:function(a,c){h("info",a,c)},warn:function(a,c){h("warn",a,c)},error:function(a,c){h("error",a,c)},LOGGING_ENDPOINT:"/api/v4/debug/logs"};var k=String((new Date).getTime()),e=window.location.href,a={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},g={1:!0,3:!0,10:!0,30:!0,100:!0,250:!0,500:!0,1E3:!0};extole.LOG_EXCLUDE_REGEX=extole.LOG_EXCLUDE_REGEX||void 0;extole.LOG_LEVEL_CONSOLE=extole.LOG_LEVEL_CONSOLE||
"OFF";extole.LOG_LEVEL_REMOTE=extole.LOG_LEVEL_REMOTE||"WARN";var c={};return{debug:function(a,c){f("DEBUG",a,c)},info:function(a,c){f("INFO",a,c)},warn:function(a,c){f("WARN",a,c)},error:l,LOGGING_ENDPOINT:"/api/v4/debug/logs"}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/Timer.js",[],function(){return function(){var h=this,f;this.start=function(){if(f)throw Error("Timer.start has already been called");f=new Date;return h};this.getElapsedTime=function(){if(!f)throw Error("Timer has not been started");return new Date-f}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/type.js",[],function(){function h(h,l){return function(d){return f(h,d,l)}}function f(f,h,d){d=d||{};f=Object.prototype.toString.call(h)==="[object "+f+"]";h=h&&d.construct?h.constructor===d.construct:!0;return(d.negate?!f:f)&&h}return{isPlainObject:h("Object",{construct:Object}),isPlainFunction:h("Function"),isArray:h("Array"),isString:h("String"),isBoolean:h("Boolean"),isNumber:h("Number"),isUndefined:h("Undefined"),
isDefined:h("Undefined",{negate:!0}),isNull:h("Null"),test:f}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js"],function(h){function f(d){var e={};(function b(d,c){for(var g in d){var f=d[g],k=(c?c+".":"")+g;"[object Object]"===Object.prototype.toString.call(f)?b(f,k):"__proto__"!==k&&(e[k]=f)}})(d);return e}function m(d){try{return decodeURIComponent(d)}catch(e){return d}}function l(f,e,a){e=(e||[]).concat(extole.PROGRAM?
extole.PROGRAM.sitePatterns:[]);a=d(a||location.href);f=d(f);return(/^https?:\/\//.test(f)?h.find(e,function(a){var c=f;a=String(a).replace(/\./g,"\\.").replace(/\\{2,}\./g,"\\.").replace(/\*/g,"[a-z0-9.-]*");return(new RegExp("^https?://"+a+"(/|$)","i")).test(c)}):1)?f:a}function d(d){return d.replace(/(j|%4A|%6A)(a|%41|%61)(v|%56|%76)(a|%41|%61)(s|%53|%73)(c|%43|%63)(r|%52|%72)(i|%49|%69)(p|%50|%70)(t|%54|%74)(:|%3A)/gi,"")}return{serialize:function(d){var e="",a;for(a in d)e+="&"+encodeURIComponent(a)+
"="+encodeURIComponent(String(d[a]));return e.replace(/^&/,"?")},deserialize:function(d){var e={};if(!d)return e;d=(d.match(/^\?/)?d.slice(1):d).split("&");for(var a=0;a<d.length;a++){var f=d[a].split("="),c=m(f[0]);f=m(f[1]);"__proto__"!==c&&(e[c]=f)}return e},objectToDotNotation:f,dotNotationToObject:function(d){var e={};d=f(d);for(var a in d){for(var g=e,c=a.split("."),b=c.pop();c.length;){var h=c.shift();"__proto__"!==h&&(g[h]=g[h]||{},g=g[h])}"__proto__"!==b&&(g[b]=d[a])}return e},decodeComponent:m,
encodeComponent:function(d){return encodeURIComponent(d)},getSafeRedirectUrl:l,executeSafeRedirect:function(d,e,a){window.location.href=l(d,e,a)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/ajax.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/type.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js"],function(h,f,
m,l){function d(a,d){function c(){4!==a.readyState||y||(y=!0,String(a.status||200).match(/^[23]/)?"function"===typeof x?x.call(a,a.responseText,a):l.warn("'complete' callback must be a function."):w.call(a,a.statusText,a.status),g())}function b(b){y||(y=!0,l.error("Error with url "+q+"= "+k.join(","),e(b)),w.call(a,a.statusText,a.status))}function e(b){return{eventType:b&&b.type||null,options:d,readyState:a.readyState,response:a.response,responseText:a.responseText,responseType:a.responseType,responseURL:a.responseURL,
responseXML:a.responseXML,status:a.status,statusText:a.statusText,timeout:a.timeout,responseHeaders:a.getAllResponseHeaders(),stackTrace:Error().stack}}function g(a){0>q.indexOf(l.LOGGING_ENDPOINT)&&l.info("ajax request complete",e(a))}var k=Array.prototype.slice.call(arguments),v=d.headers||{},r=d.xhrFields||{},q=d.url||"",t=d.data||"",p=(d.type||"get").toUpperCase(),x=d.complete||function(){},w=d.error||function(){};m.isPlainObject(t)&&("GET"===p?(q+=f.serialize(t),t=null):t=JSON.stringify(t));
a.open(p,q,!0);h.merge(a,r);h.each(v,function(b,c){try{a.setRequestHeader(c,b)}catch(C){l.error("AJAX ERROR: Couldn't set request header "+c+" to "+b)}});var y=!1;a.onload=c;a.onreadystatechange=c;a.onerror=b;a.ontimeout=b;a.onabort=g;a.send(t)}function k(a){a=a||{};var f=!1;for(var c=0;c<e.length;c++){try{f=e[c]()}catch(b){continue}break}d(f,a);return f}var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];k.convertToFormUrlEncoded=function(a,d){var c=[];h.each(a,function(b,d){"Content-Type"!==d&&(c.push("::headers."+d+"="+b),delete a[d])});h.each(d,function(a,d){d=window.encodeURIComponent(d);d=-1<d.indexOf(".")?'"'+d+'"':d;a=window.encodeURIComponent(a);c.push(d+"="+a)});return c.join("&")};return k});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/program.js",[],function(){return{getName:function(){return extole.PROGRAM.name},getProgramDomain:function(){return extole.PROGRAM.programDomain},getSitePatterns:function(){return extole.PROGRAM.sitePatterns},getProtocol:function(){return"https://"}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/token-store.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/event-bus.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/cookie.js"],
function(h,f,m,l){function d(){function d(){this.get=function(a){return l(a)};this.set=function(a,c,d){extole.COOKIES_DISABLED||l(a,c,{expires:k[d],path:"/",samesite:"strict"})};this.remove=function(a){l(a,"",{expires:-1,path:"/"})}}function a(){(function(){var a="test"+(new Date).getTime();try{localStorage.setItem(a,a),localStorage.removeItem(a)}catch(n){throw Error("Local storage not supported");}})();this.get=function(a){return window.localStorage.getItem(a)};this.set=function(a,c,d){window.localStorage.setItem(a,
c)};this.remove=function(a){window.localStorage.removeItem(a)}}var g=[],c=extole.CORE_CONFIG.isCookieConsentEnabled?"SESSION":"YEAR";g.push(new function(){var a={};this.get=function(b){return a[b]};this.set=function(b,c,d){a[b]=c};this.remove=function(b){delete a[b]}});extole.COOKIES_DISABLED||g.push(new d);if(extole.LOCAL_STORAGE_ENABLED)try{g.push(new a)}catch(b){f.info("Local Storage not supported in current browser")}this.events=m.create();this.get=function(){for(var a,c=0;c<g.length;c++){a=g[c];
var d=a.get("extole_access_token");if("string"===typeof d&&"undefined"!==d&&"null"!==d&&d.length)return a.get("extole_access_token")}return null};this.set=function(a,d){var b=this.get();c=d||c;h.each(g,function(b){b.set("extole_access_token",a,c)});b!==a&&this.events.trigger("change:access_token");b&&b!=a&&f.debug("ACCESS_TOKEN_CHANGE - the access token changed from: "+b+", to: "+a)};this.remove=function(){h.each(g,function(a){a.remove("extole_access_token")})}}var k={year:365,YEAR:365,session:null,
SESSION:null};return extole.tokenStore=extole.tokenStore?extole.tokenStore:new d});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/metric-registry.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/program.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/ajax.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/token-store.js"],function(h,f,m){function l(d,a,g){d={metric_type:d,key:a,value:g};a={"Content-Type":"application/json",
"X-Extole-App":"javascript_sdk"};m.get()&&(a.Authorization=m.get(),g=[h.getProtocol(),h.getProgramDomain(),"/api/v4/debug/metrics"].join(""),f({url:g,type:"POST",headers:a,data:d,xhrFields:{withCredentials:!0}}))}function d(d){this.increment=function(a){l("COUNTER",d,a)}}function k(d){this.update=function(a){l("HISTOGRAM",d,a)}}return{histogram:function(d){return new k(d)},counter:function(e){return new d(e)}}});
extole.define("CreativeRenderContext",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js"],function(h,f){function m(d,e,a){this.getElement=function(){return a};this.getName=function(){return d};this.getData=function(){return e};this.getParameters=function(){return e}}function l(){this.getName=function(){return extole.PROGRAM.name};this.getProgramDomain=function(){return extole.PROGRAM.programDomain};
this.getSitePatterns=function(){return extole.PROGRAM.sitePatterns}}function d(){this.backendTargetingEnabled=function(){return!0};this.cookieConsentEnabled=function(){return extole.CORE_CONFIG.isCookieConsentEnabled}}return function(k,e,a,g){var c=new m(k,e,a),b=new l,n=new d;this.getZone=function(){return c};this.getProgram=function(){return b};this.getCreativeData=function(){var a=h.dotNotationToObject(h.deserialize(location.search)),b=h.dotNotationToObject(c.getParameters());return f.merge(a.extole_creative,
b.creative)};this.getCoreConfig=function(){return n};this.getLocale=function(){return g||null}}});
extole.define("find-element-by-id",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/metric-registry.js"],function(h,f){function m(f,d,h){function e(){if(d())h();else{f();var g=setTimeout;a||(a=10);var c=500<a?500:a*=1.1;g(e,c)}}var a;e()}return function(l,d){var k=(new Date).getTime(),e=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_NOT_FOUND||3E3,a=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_FOUND||
2E3,g=!1,c;m(function(){c=document.getElementById(l)},function(){var b=(new Date).getTime()-k,d=!!c;d?(f.histogram("zone_element_found").update(b),b>=a&&h.warn("EXTOLE_ELEMENT_FOUND_SLOW: Scan duration: "+b+"ms, element id: "+l)):!g&&b>=e&&(g=!0,f.histogram("zone_element_not_yet_found").update(b),h.warn("EXTOLE_ELEMENT_NOT_YET_FOUND: Scan duration: "+b+"ms, element id: "+l));return d},function(){d(c)})}});
extole.define("ensure-element",["find-element-by-id"],function(h){return function(f,m){f.element?m(f.element):f.element_id?h(f.element_id,m):m(document.body.appendChild(document.createElement("div")))}});
extole.define("pending-zone-service","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/device-type.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/type.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/metric-registry.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/token-store.js CreativeRenderContext ensure-element".split(" "),function(h,
f,m,l,d,k,e,a,g){function c(c,d){d=d||function(){};var h=c.name,l=n(c.data||c.parameters||{}),m=Date.now();t(h);this.resolve=function(p,n,w,q){e.set(n,w);u(c)&&(n=b(h,"time_to_zone_response_ms"),w=Date.now()-m,k.histogram(n).update(w));g(c,function(e){c.element=e;u(c)&&z(c.element,function(){var a=b(h,"time_to_first_html_ms"),c=Date.now()-m;k.histogram(a).update(c)});f.clearEventListeners(c.element);e=new a(h,l,c.element,q);p(e);d(null,e.getZone())})}}function b(a,b){var c=document.getElementsByTagName("*").length;
c=2500<c?"xx_large":1500<c?"x_large":1E3<c?"large":500<c?"medium":"small";var d=h.isMobile((window.navigator||{}).userAgent)?"mobile":"desktop";return[a,d,c,b].join("_")}function n(a){a=d.merge({},a);delete a.campaign_id;delete a.extole_campaign_id;return a}function u(a){return r.test(a.name)||r.test((a.data||{}).redirect)?!0:!1}function z(a,b){var c=document.createElement("div");c.style.display="none";a.appendChild(c);v(c,b)}function v(a,b){if(window.MutationObserver){var c=new MutationObserver(function(e){d.each(e,
function(e){e.removedNodes&&d.each(e.removedNodes,function(d){d===a&&(b(),c.disconnect())})})});a.parentNode&&c.observe(a.parentNode,{childList:!0})}}var r=/_experience$/,q={},t=function(){var a={};return function(b){m.isUndefined(a[b])&&(a[b]=0);a[b]++;if(5===a[b]){b="duplicate_zone_requests : "+b;var c=d.filter(extole.q.history,function(a){return a.name&&"createZone"===a.name});c=d.map(c,function(a){delete (a.args[0]||{}).element;return a});l.warn(b,c)}}}();return{get:function(a){if(!q[a])throw Error("Pending zone does not exist for id: "+
a);return q[a]},create:function(){var a=Math.floor(1E9*Math.random()),b=0;return function(d,e){b++;var f=a+"."+b;q[f]=new c(d,e);return f}}()}});
extole.define("create-zone","extole-uri-parser https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/uri.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/program.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/ajax.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js pending-zone-service ensure-element".split(" "),function(h,
f,m,l,d,k,e,a,g,c){return function(b,n,u){function z(){p.zone_id=g.create(b,n);p=m.flatten(p);if(extole.CORE_CONFIG.isZonePostEnabled)v();else{x&&(p.jwt=x);w&&(p.access_token=w);p.extole_app="javascript_sdk";q=[y,"/zones/",b.name].join("");var a=q+f.serialize(p),c=document.createElement("script");l.setAttribute(c,"src",a);l.setAttribute(c,"async","");l.append(l.queryFirst("head")||l.queryFirst("body"),c);c.onload=r}}function v(){var c={"Content-Type":"application/x-www-form-urlencoded",Accept:"text/javascript",
"X-Extole-App":"javascript_sdk"};q=y+"/zones/"+b.name;x&&(c["X-Extole-Jwt"]=x,delete p.jwt);w&&(c.Authorization="Bearer+"+w);var d=e.convertToFormUrlEncoded(c,p);e({url:q,type:"POST",headers:c,data:d,complete:function(b,c){var e=/^text\/html(;|$)/,f=/^text\/plain(;|$)/;c=c.getResponseHeader("Content-Type");if(/^text\/javascript(;|$)/.test(c))var g=b;else if(e.test(c))e=document.createElement("div"),e.innerHTML=b,g=l.queryFirst("script",e).innerHTML;else if(f.test(c)&&!b)a.info("No campaign targeted in POST to /zones - Zone Request Data: "+
d);else{if(null===c&&A<(extole.maxZoneRequestRetryCount||5)){A+=1;v();return}a.warn("Received "+c+" content type from "+q+"; Retry count: "+A+"; Zone Request Data: "+d)}if(g)try{(new Function(g))()}catch(B){a.error("Error in zone script retrieved from "+q+" - MESSAGE: "+B.message+" STACK: "+B.stack)}r()},error:function(b){a.error("Error creating zone via POST to "+q,b)},xhrFields:{withCredentials:!0}})}function r(){"function"===typeof u&&setTimeout(u,500)}n=n||function(){};var q,t=f.deserialize(location.search),
p=m.merge({},b.data||b.parameters),x=b.jwt||p.jwt||t.extole_jwt,w=k.get(),y=[d.getProtocol(),d.getProgramDomain()].join(""),A=0;extole.CORE_CONFIG.isGlobalZoneParametersEnabled&&(t=h.parseGlobalZoneParameters(t),p=m.merge(p,t));if(extole.createZonePrehandler&&(t=extole.createZonePrehandler(b,p),!1===t))return;extole.isFindElementBeforeZoneRequest?c(b,function(a){b.element=a;z()}):z()}});
extole.define("create-zone-executor",["create-zone","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=104/common/logger.js"],function(h,f){function m(d){var e=!1;return function(){var a=Array.prototype.slice.call(arguments);e||(e=!0,d.apply(null,a))}}var l=new function(){var d=0,e=[],a=this;this.push=function(a){e.push(a);this.next()};this.next=function(){function f(){d--;a.next()}for(;1>d&&e.length;)e.shift()(f),d++}},d=0;return{execute:function(f,e){e=e||function(){};0===
d?l.push(function(a){a=m(a);h(f,function(){var d=Array.prototype.slice.call(arguments);e.apply(null,d);a()},a)}):l.push(function(a){h(f,e);a()});d++}}});